import{r as o,W as f,j as e,Y as g}from"./app-CeuI7o1v.js";import{S as y}from"./SingleCardWithHeader-BMhZjqrZ.js";import{L as b,c as N}from"./Layout-DdaQygP1.js";import{A as w}from"./AlertCard-FIcKZ8Wp.js";import{S}from"./SingleCardCenter-XpJrEUsc.js";import{T as i}from"./TextInput-ieMSKvMS.js";import{I as l}from"./InputLabel-CHSAiamn.js";import{F as C}from"./ArchiveBoxXMarkIcon-4LZws_-w.js";import{F as R,a as F}from"./PlusIcon-CIa4YNc-.js";import"./Dropdown-D43rT-fp.js";import"./transition-lxKP8sxk.js";import"./PageHeader-e0GRXsHZ.js";import"./MegaphoneIcon-BRvYTP08.js";import"./close-provider-Chx4oZVL.js";import"./ChevronDownIcon-Bsu68qhy.js";function K({auth:h,paginated:d}){const[n,m]=o.useState(1),[c,A]=o.useState(!1);o.useState(!1),o.useState({id:"",date:"",start:"",end:"",activity:"",venue:"",designation:"",report:""});const{data:s,setData:r,post:j,patch:p,errors:a,hasErrors:E,processing:u,reset:x,recentlySuccessful:D}=f({id:"",date:"",start:"",end:"",activity:"",venue:"",designation:"",report:""}),v=t=>{t.preventDefault(),c?(console.log(s.id),p(route("accomplishmentreports.update",s.id),{onSuccess:()=>x(),preserveScroll:!0})):(console.log(s),console.log("creating"),j(route("accomplishmentreports.store"),{onSuccess:()=>{x(),m(1)},preserveScroll:!0}),console.log(a))};return o.useEffect(()=>{console.log(d)},[]),e.jsxs(b,{isAdmin:h.isAdmin,user:h.user,icon:e.jsx(N,{className:"w-9 h-9 text-gray-500"}),headerTitle:"Accomplishment Reports",headerSubtitle:"View Accomplishment Reports",children:[e.jsx(g,{title:"Accomplishment Reports"}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"relative text-gray-400 p-1 my-2",children:e.jsxs("div",{className:"absolute bottom-[110%] w-full flex flex-row gap-2 md:mb-1 lg:mb-2",children:[e.jsx("button",{onClick:()=>{m(1)},className:`${n==1?"border-b-2 !text-white":""} p-2 `,children:"View"}),e.jsx("button",{onClick:()=>{m(0)},className:`${n==0?"border-b-2 !text-white":""} p-2 `,children:"Create"})]})}),(()=>{if(n==1)return d.data.length==0?e.jsx(w,{type:"alert-info",icon:e.jsx(C,{className:"h-6 w-6 "}),title:"Empty!",message:"Reports are empty, Create a report"}):e.jsx(S,{table:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"datatable-table mt-3 text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"card-header",children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Start"}),e.jsx("th",{children:"End"}),e.jsx("th",{children:"Activity"}),e.jsx("th",{children:"Designation"}),e.jsx("th",{children:"Venue"}),e.jsx("th",{children:"Time Spent"}),e.jsx("th",{children:"Report"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.data.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.date}),e.jsx("td",{children:t.start}),e.jsx("td",{children:t.end}),e.jsx("td",{children:t.activity}),e.jsx("td",{children:t.designation}),e.jsx("td",{children:t.venue}),e.jsx("td",{children:t.timespent}),e.jsx("td",{children:t.report}),e.jsx("td",{})]},t.user_id))})]})})});if(n==0||n==2)return e.jsx(y,{header:c?"Edit Report":"Create Report",button:e.jsx("div",{className:"flex flex-row",children:e.jsx("div",{className:"rounded-[50%] h-10 w-10  flex place-content-center items-center mx-3 !bg-sky-700  ",children:c?e.jsx(R,{className:"h-5 w-5  !text-white "}):e.jsx(F,{className:"h-7 w-7 !text-white"})})}),body:e.jsxs("form",{className:"p-3",onSubmit:v,children:[e.jsxs("div",{className:"flex flex-row gap-6",children:[e.jsxs("div",{className:"w-1/3 flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"Date",children:"Date"}),e.jsx(i,{className:"form-control",type:"date",value:s.date,onChange:t=>{r("date",t.target.value)}})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"Start",children:"Start"}),e.jsx(i,{className:"form-control",type:"time",value:s.start,onChange:t=>{r("start",t.target.value)}}),a.start]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"End",children:"End"}),e.jsx(i,{className:"form-control",type:"time",value:s.end,onChange:t=>{r("end",t.target.value)}}),a.end]})]}),e.jsxs("div",{className:"w-2/3 flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"Activity",children:"Activity"}),e.jsx(i,{className:"form-control",type:"text",value:s.activity,onChange:t=>{r("activity",t.target.value)}}),a.activity]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"Venue",children:"Venue"}),e.jsx(i,{className:"form-control",type:"text",value:s.venue,onChange:t=>{r("venue",t.target.value)}}),a.venue]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"Designation",children:"Designation"}),e.jsx(i,{className:"form-control",type:"text",value:s.designation,onChange:t=>{r("designation",t.target.value)}}),a.designation]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"Report",children:"Report"}),e.jsx(i,{className:"form-control",type:"text",value:s.report,onChange:t=>{r("report",t.target.value)}}),a.report]})]})]}),e.jsx("button",{className:"btn btn-primary",type:"submit",disabled:u,children:c?"Edit":"Add"})]})})})()]})]})}export{K as default};
