import{r as x,j as e,a as y,Y as C}from"./app-CeuI7o1v.js";import{A as u}from"./AlertCard-FIcKZ8Wp.js";import{C as v}from"./CardsWithSticky-wh3rbpCG.js";import{I as k}from"./IconCard-UtpeGsX9.js";import{I as A}from"./IconParse-NR-F1tU2.js";import{O as F}from"./OverlapHeader-BWtahCKm.js";import{S}from"./SingleCardCenter-XpJrEUsc.js";import{S as E}from"./SingleCardWithHeader-BMhZjqrZ.js";import{D as s}from"./Dropdown-D43rT-fp.js";import{L as R}from"./Layout-DdaQygP1.js";import g from"./Form-CPzUONF5.js";import{P as $}from"./PageNav-DxT5GKtL.js";import{F as p}from"./ExclamationTriangleIcon-sqiL8OFG.js";import{F as D,a as I}from"./XMarkIcon-CvHw8P_x.js";import{F as T}from"./MegaphoneIcon-BRvYTP08.js";import{F as b}from"./EllipsisVerticalIcon-d6u5R_8n.js";import"./transition-lxKP8sxk.js";import"./PageHeader-e0GRXsHZ.js";import"./close-provider-Chx4oZVL.js";import"./ChevronDownIcon-Bsu68qhy.js";import"./InputError-D2vGAu5u.js";import"./InputLabel-CHSAiamn.js";import"./PrimaryButton-CfgySyiK.js";import"./TextInput-ieMSKvMS.js";function oe({auth:j,paginated:a}){const h=x.useRef([]),[w,l]=x.useState(!1),[N,c]=x.useState(!1),[i,o]=x.useState(0),n={id:"",title:"",content:"",cardtype:"center",icon:"",color:""},[f,r]=x.useState(n);return e.jsxs(R,{isAdmin:j.isAdmin,user:j.user,warning:N&&e.jsx("div",{className:"fixed w-full h-full z-[2] bg-black bg-opacity-50",onClick:()=>{c(!1)},children:e.jsx(u,{icon:e.jsx(p,{className:"w-5 h-5"}),type:"alert-warning",title:"Warning",message:`Delete ${f.title}`,actions:e.jsxs(e.Fragment,{children:[e.jsx(y,{href:route("announcements.destroy",f.id),method:"delete",as:"button",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{c(!1)},children:e.jsx(I,{className:"w-5 h-5"})})]})})}),children:[e.jsx(C,{title:"Admin Announcements"}),e.jsxs(F,{icon:e.jsx(T,{className:"w-9 h-9 text-gray-500"}),title:"Announcements",subtitle:"Admin Announcements",children:[e.jsx("div",{className:"relative text-gray-400 p-1 my-2",children:e.jsxs("div",{className:"absolute bottom-[110%] w-full flex flex-row gap-2 md:mb-1 lg:mb-2",children:[e.jsx("button",{onClick:()=>{o(0),l(!1),r(n)},className:`${i==0?"border-b-2 !text-white":""} p-2 `,children:"View"}),e.jsx("button",{onClick:()=>{o(1),l(!1),r(n)},className:`${i==1?"border-b-2 !text-white":""} p-2 `,children:"Create"}),i==2&&e.jsx("button",{className:"border-b-2 !text-white p-2 ",children:"Edit"})]})}),(()=>{if(i==0)return e.jsx(v,{cards:e.jsx(e.Fragment,{children:a.data.length!=0?a.data.map((t,m)=>{if(t.cardtype=="center")return e.jsx(S,{ref:d=>h.current[m]=d,title:t.title,body:t.content,button:e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("button",{className:"rounded-[50%] hover:bg-gray-200 p-1 mx-2 mt-2",type:"button",children:e.jsx(b,{className:"w-6 h-6 text-black"})})}),e.jsxs(s.Content,{contentClasses:"flex flex-col gap-2 text-center !font-normal",margin:"!mt-0 mr-3",width:"w-auto",children:[e.jsx("button",{className:"hover:bg-green-50 ",onClick:()=>{l(!0),r(t),o(2)},children:"Edit"}),e.jsx("button",{className:"hover:bg-green-50 mx-1",onClick:()=>{r(t),c(!0)},children:"Delete"})]})]})});if(t.cardtype=="icon")return e.jsx(k,{ref:d=>h.current[m]=d,icon:e.jsx(A,{icon:t.icon,color:"text-white"}),title:t.title,body:t.content,iconColor:`bg-[${t.color}]`,button:e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("button",{className:"rounded-[50%] hover:bg-gray-200 p-1 mx-2 mt-2",type:"button",children:e.jsx(b,{className:"w-6 h-6 text-black"})})}),e.jsxs(s.Content,{contentClasses:"flex flex-col gap-2 text-center !font-normal",margin:"!mt-0 mr-3",width:"w-auto",children:[e.jsx("button",{className:"hover:bg-green-50 ",onClick:()=>{l(!0),r(t),o(2)},children:"Edit"}),e.jsx("button",{className:"hover:bg-green-50 mx-1",onClick:()=>{r(t),c(!0)},children:"Delete"})]})]})});if(t.cardtype=="header")return e.jsx(E,{ref:d=>h.current[m]=d,header:t.title,body:e.jsx("div",{className:"mt-2",children:t.content}),button:e.jsxs(s,{children:[e.jsx(s.Trigger,{children:e.jsx("button",{className:"rounded-[50%] hover:bg-gray-200 p-1 mx-2 mt-2",type:"button",children:e.jsx(b,{className:"w-6 h-6 text-black"})})}),e.jsxs(s.Content,{contentClasses:"flex flex-col gap-2 text-center !font-normal",margin:"!mt-0 mr-3",width:"w-auto",children:[e.jsx("button",{className:"hover:bg-green-50 ",onClick:()=>{l(!0),r(t),o(2)},children:"Edit"}),e.jsx("button",{className:"hover:bg-green-50 mx-1",onClick:()=>{r(t),c(!0)},children:"Delete"})]})]})})}):e.jsx(u,{type:"alert-info",icon:e.jsx(p,{className:"h-6 w-6"}),title:"Empty!",message:e.jsx("div",{className:"flex flex-row",children:"No Announements"})})}),withCard:a.data.length!=0,stickyNavHeader:"Navigate",stickyNavBody:e.jsxs("div",{className:"flex flex-col gap-4 ",children:[e.jsx("div",{children:a.data.map((t,m)=>e.jsx("button",{onClick:()=>h.current[m].scrollIntoView({behavior:"auto",block:"center",inline:"center"}),className:"nav-link",children:t.title}))}),a.data.length!=0&&e.jsx("div",{className:"w-full flex flex-row items-center place-content-center",children:e.jsx($,{links:a.links})})]})});if(i==1)return e.jsx(g,{selected:n,back:()=>{o(0),l(!1),r(n)}});if(i==2)return e.jsx(g,{selected:f,editing:w,back:()=>{o(0),l(!1),r(n)}})})()]})]})}export{oe as default};
